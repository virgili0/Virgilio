<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Monitoring Usage and Behavior | Virgilio</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="This guide introduces you to the best practices of monitoring Machine Learning models in production, and ensuring that they behave as expected.">
    <link rel="preload" href="/Virgilio/assets/css/0.styles.35d5f61b.css" as="style"><link rel="preload" href="/Virgilio/assets/js/app.3c2f584d.js" as="script"><link rel="preload" href="/Virgilio/assets/js/2.673d27ad.js" as="script"><link rel="preload" href="/Virgilio/assets/js/35.41e4bc94.js" as="script"><link rel="prefetch" href="/Virgilio/assets/js/10.ba7ac48c.js"><link rel="prefetch" href="/Virgilio/assets/js/11.a9947223.js"><link rel="prefetch" href="/Virgilio/assets/js/12.e76a6842.js"><link rel="prefetch" href="/Virgilio/assets/js/13.9e3670c4.js"><link rel="prefetch" href="/Virgilio/assets/js/14.aba0c7c5.js"><link rel="prefetch" href="/Virgilio/assets/js/15.e8daac7f.js"><link rel="prefetch" href="/Virgilio/assets/js/16.9d30529b.js"><link rel="prefetch" href="/Virgilio/assets/js/17.bce996fa.js"><link rel="prefetch" href="/Virgilio/assets/js/18.9ff7d58d.js"><link rel="prefetch" href="/Virgilio/assets/js/19.c7e866db.js"><link rel="prefetch" href="/Virgilio/assets/js/20.b45091f6.js"><link rel="prefetch" href="/Virgilio/assets/js/21.0a27d215.js"><link rel="prefetch" href="/Virgilio/assets/js/22.2d8c937c.js"><link rel="prefetch" href="/Virgilio/assets/js/23.b0f45f05.js"><link rel="prefetch" href="/Virgilio/assets/js/24.d0c27079.js"><link rel="prefetch" href="/Virgilio/assets/js/25.7a0ab6dd.js"><link rel="prefetch" href="/Virgilio/assets/js/26.04a70161.js"><link rel="prefetch" href="/Virgilio/assets/js/27.606fb25f.js"><link rel="prefetch" href="/Virgilio/assets/js/28.a81e1240.js"><link rel="prefetch" href="/Virgilio/assets/js/29.e77c9bc4.js"><link rel="prefetch" href="/Virgilio/assets/js/3.c4b11648.js"><link rel="prefetch" href="/Virgilio/assets/js/30.122e3f85.js"><link rel="prefetch" href="/Virgilio/assets/js/31.ea4bcd4b.js"><link rel="prefetch" href="/Virgilio/assets/js/32.4239aa7e.js"><link rel="prefetch" href="/Virgilio/assets/js/33.05d2c4ab.js"><link rel="prefetch" href="/Virgilio/assets/js/34.8e5a4fe4.js"><link rel="prefetch" href="/Virgilio/assets/js/36.75ad2f02.js"><link rel="prefetch" href="/Virgilio/assets/js/37.96c15032.js"><link rel="prefetch" href="/Virgilio/assets/js/38.fb9d1f09.js"><link rel="prefetch" href="/Virgilio/assets/js/39.cfd199e2.js"><link rel="prefetch" href="/Virgilio/assets/js/4.b2e6547d.js"><link rel="prefetch" href="/Virgilio/assets/js/40.3aa40847.js"><link rel="prefetch" href="/Virgilio/assets/js/41.7fe0c4f0.js"><link rel="prefetch" href="/Virgilio/assets/js/42.3cfa32b0.js"><link rel="prefetch" href="/Virgilio/assets/js/43.b3a0652d.js"><link rel="prefetch" href="/Virgilio/assets/js/5.1f48609d.js"><link rel="prefetch" href="/Virgilio/assets/js/6.4cfed4ae.js"><link rel="prefetch" href="/Virgilio/assets/js/7.ecd305bb.js"><link rel="prefetch" href="/Virgilio/assets/js/8.cdf6e836.js"><link rel="prefetch" href="/Virgilio/assets/js/9.fc5bd495.js">
    <link rel="stylesheet" href="/Virgilio/assets/css/0.styles.35d5f61b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Virgilio/" class="home-link router-link-active"><!----> <span class="site-name">Virgilio <span class="site-name2"> Data Science </span></span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/virgili0/Virgilio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contribute
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/virgili0/Virgilio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contribute
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Virgilio/" aria-current="page" class="sidebar-link">What is Virgilio?</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Paradiso</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Virgilio/paradiso/demystification-ai-ml-dl.html" class="sidebar-link">Demystification of the key concepts of AI and ML</a></li><li><a href="/Virgilio/paradiso/what-do-i-need-for-ml.html" class="sidebar-link">What do I need to do Machine Learning?</a></li><li><a href="/Virgilio/paradiso/do-you-really-need-ml.html" class="sidebar-link">Do you really need Machine Learning?</a></li><li><a href="/Virgilio/paradiso/use-cases.html" class="sidebar-link">Machine Learning use cases</a></li><li><a href="/Virgilio/paradiso/virgilio-teaching-strategy.html" class="sidebar-link">Virgilio's Teaching Strategy</a></li><li><a href="/Virgilio/paradiso/introduction-to-ml.html" class="sidebar-link">Introduction to Machine Learning</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Purgatorio</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Fundamentals</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Virgilio/purgatorio/fundamentals/math-fundamentals.html" class="sidebar-link">Linear Algebra</a></li><li><a href="/Virgilio/purgatorio/fundamentals/statistics-fundamentals.html" class="sidebar-link">Statistics</a></li><li><a href="/Virgilio/purgatorio/fundamentals/python-fundamentals.html" class="sidebar-link">Python</a></li><li><a href="/Virgilio/purgatorio/fundamentals/jupyter-notebook.html" class="sidebar-link">Jupyter Notebook</a></li><li><a href="/Virgilio/purgatorio/fundamentals/the-data-science-process.html" class="sidebar-link">The Data Science Process</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Define The Scope and Ask Questions</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Virgilio/purgatorio/define-the-scope-and-ask-questions/frame-the-problem.html" class="sidebar-link">Frame the Problem</a></li><li><a href="/Virgilio/purgatorio/define-the-scope-and-ask-questions/usage-and-integration.html" class="sidebar-link">Usage and Integration</a></li><li><a href="/Virgilio/purgatorio/define-the-scope-and-ask-questions/starting-a-data-project.html" class="sidebar-link">Starting a Data Project</a></li><li><a href="/Virgilio/purgatorio/define-the-scope-and-ask-questions/workspace-setup-and-cloud-computing.html" class="sidebar-link">Workspace Setup and Cloud Computing</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Collect and Prepare Data</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Virgilio/purgatorio/collect-and-prepare-data/data-preparation.html" class="sidebar-link">Data Preparation</a></li><li><a href="/Virgilio/purgatorio/collect-and-prepare-data/data-visualization.html" class="sidebar-link">Data Visualization</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Select and Train Machine Learning Models</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Virgilio/purgatorio/select-and-train-machine-learning-models/machine-learning-theory.html" class="sidebar-link">Machine Learning Theory</a></li><li><a href="/Virgilio/purgatorio/select-and-train-machine-learning-models/deep-learning-theory.html" class="sidebar-link">Deep Learning Theory</a></li><li><a href="/Virgilio/purgatorio/select-and-train-machine-learning-models/evaluation-and-finetuning.html" class="sidebar-link">Evaluation and Fine Tuning</a></li><li><a href="/Virgilio/purgatorio/select-and-train-machine-learning-models/tools-and-libraries.html" class="sidebar-link">Tools and Libraries</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Launch and Mantain the System </span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Virgilio/purgatorio/launch-and-mantain-the-system/serving-trained-models.html" class="sidebar-link">Serving Trained Models</a></li><li><a href="/Virgilio/purgatorio/launch-and-mantain-the-system/monitoring-usage-and-behavior.html" aria-current="page" class="active sidebar-link">Monitoring Usage and Behavior</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Virgilio/purgatorio/launch-and-mantain-the-system/monitoring-usage-and-behavior.html#trusting-is-good-not-trusting-is-better" class="sidebar-link">Trusting is Good Not Trusting is Better</a></li><li class="sidebar-sub-header"><a href="/Virgilio/purgatorio/launch-and-mantain-the-system/monitoring-usage-and-behavior.html#monitoring-the-behavior" class="sidebar-link">Monitoring the Behavior</a></li><li class="sidebar-sub-header"><a href="/Virgilio/purgatorio/launch-and-mantain-the-system/monitoring-usage-and-behavior.html#monitoring-the-usage" class="sidebar-link">Monitoring the Usage</a></li><li class="sidebar-sub-header"><a href="/Virgilio/purgatorio/launch-and-mantain-the-system/monitoring-usage-and-behavior.html#conclusions" class="sidebar-link">Conclusions</a></li></ul></li><li><a href="/Virgilio/purgatorio/launch-and-mantain-the-system/automation-and-reproducibility.html" class="sidebar-link">Automation and Reproducibility</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Now Go Build </span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Virgilio/purgatorio/now-go-build/a-messy-real-world.html" class="sidebar-link">A Messy Real World</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Inferno</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Computer Vision</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Virgilio/inferno/computer-vision/introduction-to-computer-vision.html" class="sidebar-link">Introduction to Computer Vision using OpenCV and Python</a></li><li><a href="/Virgilio/inferno/computer-vision/object-instance-segmentation.html" class="sidebar-link">Object Instance Segmentation using TensorFlow Framework and Cloud GPU Technology</a></li><li><a href="/Virgilio/inferno/computer-vision/object-tracking.html" class="sidebar-link">Object Tracking based on Deep Learning</a></li><li><a href="/Virgilio/inferno/computer-vision/Object_detection_based_on_Deep_Learning.html" class="sidebar-link">Object detection based on Deep Learning</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Tools</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Virgilio/inferno/tools/geo-gebra.html" class="sidebar-link">Geo Gebra</a></li><li><a href="/Virgilio/inferno/tools/latex.html" class="sidebar-link">LaTex</a></li><li><a href="/Virgilio/inferno/tools/regex.html" class="sidebar-link">Regex introduction</a></li><li><a href="/Virgilio/inferno/tools/wolfram-alpha.html" class="sidebar-link">Wolfram Alpha</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Research</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Virgilio/inferno/research/zotero.html" class="sidebar-link">Zotero</a></li><li><a href="/Virgilio/inferno/research/sota-papers.html" class="sidebar-link">Research papers explained</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="index"><a href="#index" class="header-anchor">#</a> Index</h1> <ul><li><a href="#Trusting-is-Good-Not-Trusting-is-Better">Trusting is Good Not Trusting is Better</a></li> <li><a href="#Monitoring-the-Behavior">Monitoring the Behavior</a></li> <li><a href="#Monitoring-the-Usage">Monitoring the Usage</a></li> <li><a href="#Conclusions">Conclusions</a></li></ul> <h2 id="trusting-is-good-not-trusting-is-better"><a href="#trusting-is-good-not-trusting-is-better" class="header-anchor">#</a> Trusting is Good Not Trusting is Better</h2> <p>Application monitoring is a <em>key</em> part of running software in production.</p> <p>Without it, the only way of finding an issue is through sheer luck or because a client has reported it.</p> <p>Both of which are less than ideal, to say the least!</p> <p><strong>You wouldn't deploy an application without monitoring, so why do it for Machine Learning models?</strong></p> <p>So let's Start!</p> <p>The first resource you should go through is the following:</p> <ul><li><a href="https://christophergs.com/machine%20learning/2020/03/14/how-to-monitor-machine-learning-models/" target="_blank" rel="noopener noreferrer">How to Monitor Machine Learning Models<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>It's a very detailed and comprehensive blog post and it addresses these topics:</p> <ul><li>What makes ML systems monitoring hard?</li> <li>How can we monitor the usage and behavior of the model?</li> <li>What are the key metrics to track and alert on?</li> <li>What are the key principles for monitoring the ML system?</li></ul> <p>Once you are done with the previous blog post, you can refer to the related chapter of the book <a href="http://www.mlebook.com/wiki/doku.php" target="_blank" rel="noopener noreferrer">Machine Learning Engineering<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for a more detailed guide (strongly recommended buy, but you can read it for free online).</p> <ul><li><a href="https://www.dropbox.com/s/nj23m5myng9gram/Chapter8.pdf?dl=0" target="_blank" rel="noopener noreferrer">Chapter 8 - Model Serving and Monitoring<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>See also:</p> <ul><li><a href="https://towardsdatascience.com/there-are-two-very-different-ways-to-deploy-ml-models-heres-both-ce2e97c7b9b1" target="_blank" rel="noopener noreferrer">There are two very different ways to deploy ML models, here’s both<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>With these two resources, you should understand broadly the reasons and challenges of monitoring the Machine Learning models in production, and you should have reasonable strategies to tackle them.</p> <p>As you know, the two main challenges regarding the model monitoring are:</p> <ul><li>How does the system behave?</li> <li>How is the system used?</li></ul> <p>Let's see some specific resources for these two challenges.</p> <h2 id="monitoring-the-behavior"><a href="#monitoring-the-behavior" class="header-anchor">#</a> Monitoring the Behavior</h2> <p>When monitoring the behavior of the ML model in production, you should consider many aspects:</p> <ul><li><p><strong>Setting a baseline:</strong>
A good idea is to have a baseline model before we start monitoring or measuring. Of course, if we are starting monitoring for the first time then that is our baseline.
After establishing the baseline model, you can keep that static and make all comparisons and references with regards to this baseline, allowing you to ask the question: &quot;How has the system been behaving since [important milestone/change]?&quot;</p> <p>See:</p> <ul><li><a href="https://datascience.stackexchange.com/questions/30912/what-does-baseline-mean-in-the-context-of-machine-learning" target="_blank" rel="noopener noreferrer">What does “baseline” mean in the context of machine learning?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://machinelearningmastery.com/how-to-get-baseline-results-and-why-they-matter/" target="_blank" rel="noopener noreferrer">How To Get Baseline Results And Why They Matter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><p><strong>Data in:</strong></p> <ul><li>Monitor whether the data you're processing looks like the data you trained on. (<a href="https://www.cmswire.com/digital-experience/data-drift-what-it-is-and-how-to-avoid-it/" target="_blank" rel="noopener noreferrer">data drift challenge<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) E.g., use simple (comparatively interpretable) distributional models to try to track whether data looks &quot;sufficiently&quot; similar.</li></ul> <p>See:</p> <ul><li><a href="https://towardsdatascience.com/calculate-similarity-the-most-relevant-metrics-in-a-nutshell-9a43564f533e" target="_blank" rel="noopener noreferrer">Calculate Similarity — the most relevant Metrics in a Nutshell<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.researchgate.net/post/How_to_measure_similarity_or_dissimilarity_between_two_data_set" target="_blank" rel="noopener noreferrer">How to measure similarity or dissimilarity between two data set?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><p><strong>Addressing data drift over time:</strong></p> <ul><li><p>Is your data distribution non-stationary? I.e. are you expecting your model to degrade due to the data changing over time?</p></li> <li><p>If so you can do anomaly detection on the stream and track the fractions of anomalous data points over time.</p></li> <li><p>You can also find out if the distribution of the live-data or evaluation data matches that of the training set (or even the held-out test/evaluation set), for example with the <a href="https://en.wikipedia.org/wiki/Kolmogorov%E2%80%93Smirnov_test" target="_blank" rel="noopener noreferrer">Kolmogorov-Smirnov<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> test.</p></li></ul> <p>See:</p> <ul><li><a href="https://machinelearningmastery.com/gentle-introduction-concept-drift-machine-learning/" target="_blank" rel="noopener noreferrer">A Gentle Introduction to Concept Drift in Machine Learning<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://dl.acm.org/doi/10.1145/3325061.3325063" target="_blank" rel="noopener noreferrer">Addressing feature drift in data streams using iterative subset selection<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/EricSchles/drifter_ml" target="_blank" rel="noopener noreferrer">Drifter_ML - A machine learning testing framework for sklearn and pandas<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><p><strong>Runtime Performance:</strong>
When running the inference part of your models, you should consider the specific requirements of the application at hand. Some of them could require faster inference, others could serve better if the accuracy is high, so maybe you can average the predictions of several models (ensemble methods), sacrificing the speed of the computation.</p> <p>Consider both runtime and model-specific performances:</p> <ul><li>Platform performance
<ul><li>Hardware specific</li> <li>Environment-specific (OS or software installation, or configuration, Cloud provider)</li></ul></li> <li>Model-specific performance
<ul><li>Input data specific</li> <li>Model algorithm-type specific (model built with Scikitlearn versus Pytorch v/s TF)</li></ul></li></ul> <p>See:</p> <ul><li><a href="https://www.tensorflow.org/tfx/serving/performance" target="_blank" rel="noopener noreferrer">TensorFlow Performance Guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.reddit.com/r/MachineLearning/comments/ezpl89/d_is_there_are_a_way_to_speed_up_the_inference/" target="_blank" rel="noopener noreferrer">Is there are a way to speed up the inference time on CPU?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.reddit.com/r/MachineLearning/comments/fd9cz0/d_ways_to_significantly_increase_inference_speed/" target="_blank" rel="noopener noreferrer">Ways to significantly increase inference speed for deployment?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><p><strong>Data out:</strong></p> <ul><li><p>Distribution of predictions by the label. If you see this shifting a lot, another flag that inference data is shifting, which could be a point of concern.</p></li> <li><p>Distribution of predictions by confidence/probability. There is a pretty rich (&amp; ongoing) field of research here, but, as a starter, I'd also expect the distribution of raw probabilities (logits) to look similar.</p></li> <li><p>As a corollary, looking at overall change in the confidence of outputs. E.g., a drop in confidence values is possibly a concerning sign. (Of course, vanilla NNs are also prone to be highly overconfident on new/OOD data, so you need to be cautious; if this is really critical, could look at different NN variants that generate better confidence assessments.)</p></li> <li><p>Consider whether training a model w/ out-of-domain detector (OOD) makes sense or not.</p></li> <li><p>It's also a sign that when we see such changes that our last test/evaluation dataset integrity is failing. You should update the test/evaluation datasets from production data and retrain the model, either fully or incrementally.</p></li></ul> <p>See:</p> <ul><li><a href="https://stats.stackexchange.com/questions/247551/how-to-determine-the-confidence-of-a-neural-network-prediction" target="_blank" rel="noopener noreferrer">How to determine the confidence of a neural network prediction?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><p><strong>Human evaluation:</strong></p> <ul><li><p>Not really going to be avoidable, but you can use a lot of the above to narrow down what people look at. Have people look at the examples which are most alarming, based on the checks you have in place. Over time, we can better calibrate what alerts are of concern.</p></li> <li><p>A related option is to use a calibrated model of confidence/estimated error rate to inform what people should look at. If you pick up the lowest 1% confidence and the internal estimated error rate is 5%, then if you explore that 1% and see &gt; 5% error rate, that could be a concern.</p></li></ul> <p>See:</p> <ul><li><a href="https://www.aclweb.org/anthology/N18-1097.pdf" target="_blank" rel="noopener noreferrer">Comparing Automatic and Human Evaluation of Local Explanations for Text Classification<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul> <h2 id="monitoring-the-usage"><a href="#monitoring-the-usage" class="header-anchor">#</a> Monitoring the Usage</h2> <p>If monitoring the behavior of the model can be technically hard, you should also be sure that your users are leveraging the model in the correct way.</p> <p>With &quot;users&quot; we can refer to <em>everything that consumes the output of the ML model</em>, it can be a system, a human, or an ensemble of systems and humans.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you're serving your model through an API (recommended way), you can refer to the API monitoring best practices in general (not specific for Machine Learning).</p></div> <p>See:</p> <ul><li><a href="https://stackoverflow.com/questions/28760946/whats-the-best-way-to-monitor-your-rest-api" target="_blank" rel="noopener noreferrer">What's the best way to monitor your REST API?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://codeascraft.com/2011/02/15/measure-anything-measure-everything/" target="_blank" rel="noopener noreferrer">Measure Anything, Measure Everything<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>The major issue you can encounter when dealing with people is that they choose to not use the ML model.</p> <p>This can happen for a variety of reasons, maybe they don't have <em>confidence enough</em> in the system, or they don't understand <em>how to</em> use it.</p> <p>Take a look at this awesome guide from Google's engineers:</p> <blockquote><p>The People + AI Guidebook was written to help user experience (UX) professionals and product managers follow a human-centered approach to AI.</p></blockquote> <ul><li><a href="https://pair.withgoogle.com/guidebook" target="_blank" rel="noopener noreferrer">People + AI Guidebook<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>This detailed resources can get you started about the following topics:</p> <ul><li>User Needs + Defining Success</li> <li>Data Collection + Evaluation</li> <li>Mental Models</li> <li>Explainability + Trust</li> <li>Feedback + Control</li> <li>Errors + Graceful Failure</li></ul> <div class="custom-block tip"><p class="custom-block-title">General Tips</p> <ul><li>None of the above techniques is a silver bullet</li> <li>Use only those things that work for you and are applicable in your use-cases</li> <li>Don't literary follow any of the ideas, try them out and see how they work for you</li></ul></div> <h2 id="conclusions"><a href="#conclusions" class="header-anchor">#</a> Conclusions</h2> <p>After walking through the resources listed here, you should be comfortable with the challenges and caveats of monitoring your Machine Learning model in production.</p> <p>As you've seen, there are both technical challenges (data drift, input data check, output data check) and <em>&quot;human-related&quot;</em> challenges. In particular, Google's People + AI Guidebook will show you most of the human-related ones.</p> <p>In the next section, <strong>Now Go Build</strong>, we'll give you a list of tips, best practices, and suggestions about <em>how to put in practice</em> everything you've learned in the Purgatorio!</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Virgilio/purgatorio/launch-and-mantain-the-system/serving-trained-models.html" class="prev">
        Serving Trained Models
      </a></span> <span class="next"><a href="/Virgilio/purgatorio/launch-and-mantain-the-system/automation-and-reproducibility.html">
        Automation and Reproducibility
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Virgilio/assets/js/app.3c2f584d.js" defer></script><script src="/Virgilio/assets/js/2.673d27ad.js" defer></script><script src="/Virgilio/assets/js/35.41e4bc94.js" defer></script>
  </body>
</html>
